<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Easy Order Portal Login Page</title>
    <style> 

	@font-face {
	    font-family: 'Sansa';
	    src: url("https://raw.githubusercontent.com/TRod-Dev/Puratos_EOP_Test/main/Sansa.ttf") format("truetype");
	    font-weight: normal;
	    font-style: normal;
	}
	
	@font-face {
	    font-family: 'Century Gothic';
	    src: url("https://raw.githubusercontent.com/TRod-Dev/Puratos_EOP_Test/main/centurygothic.ttf") format("truetype");
	    font-weight: normal;
	    font-style: normal;
	}
	
	@font-face {
	    font-family: 'Karmina';
	    src: url("https://raw.githubusercontent.com/TRod-Dev/Puratos_EOP_Test/main/Karmina%20Regular.otf") format("opentype");
	    font-weight: normal;
	    font-style: normal;
	}

	body, html {
		font-family: 'Century Gothic','Sansa','Karmina';
	}

	h1 {
		font-size: 20px;
	}

	body {
		max-width: 100%;
	    margin: auto;
	    text-align: center;
	    background-image: none;
		background-color: white;
	    color: black;
	    height: fit-content;
	    height: 100%;
	    background-position: center;
	    background-repeat: no-repeat;
	    background-size: cover;
	}

	button {
		width: 100%;
		max-width: 400px; /* Keep buttons the same width as inputs */
		padding: 10px;
		border-radius: 25px;
		border: none;
		font-weight: bold;
		background-color: rgb(209, 0, 52);
		color: white;
		cursor: pointer;
		margin-top: 10px;
	}

	button:disabled {
		background-color: #ccc;
	}

	label {
		display:none;
	}

	#layer {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		display: flex;
		flex-direction: column;
		align-items: center;
		justify-content: center;
		background-color: #f5f4f4;
	}

	#logo {
		position: absolute;
		top: 0;
		height: 150px;
		width: 100%;
		background-position: left;
		background-repeat: no-repeat;
		background-size: contain;
		background-image: url("https://trod-dev.github.io/Puratos_EOP_Test/Puratos-Logo.png");
		background-color: white;
		border-bottom: 1px solid #cfcfcf;
	}

	input {
		width: 90%;
		padding: 10px;
		margin: 10px 0;
		border-radius: 25px;
		border: 1px solid black;
		font-weight: bold;
		text-align: center;
	}

	#api {
		width: 300px;
		background: rgba(255, 255, 255, 0.8);
		padding: 20px;
		border-radius: 10px;
		box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
		display: flex;
		flex-direction: column;
		align-items: center;
	}

	#attributeVerification{
		width:100%;
	}

	#emailVerificationControl_but_send_code {
		padding: 10px;
		width: 100%;
		color: white;
		font-weight: bold;
		background-color: rgb(209, 0, 52);
		margin-top: 10px;
		border-radius: 25px;
		border: none;
		cursor: pointer;
	}

	@media only screen and (max-height: 400px) {
		#logo {
			display: none;
		}
	}

	#cancel{
		display:none;
	}

	li.no-marker::marker {
		content: none; 
	}

	a{
		display:none;
	}

	marker {
		display: none; 
	}

	li{
		display:block;
	}

	ul{
		padding:0px;
	}

	#continue{
		display:none;
	}

	#emailVerificationControl_success_message {
		display: none;
	}

    </style>
</head>
<body>
    <div id="layer">
        <div id="logo"></div>
        <div id="api">
        </div>
    </div>
<script>		
let successMessage = document.getElementById('emailVerificationControl_success_message');
let input = document.getElementById('emailVerificationCode');
let errorMessage = document.getElementById('emailVerificationControl_error_message');
let continueButton = document.getElementById('continue');
let changeClaimsButton = document.getElementById('emailVerificationControl_but_change_claims');
let verifyCodeButton = document.getElementById('emailVerificationControl_but_verify_code');

let checkConditions = () => {
    // Regular expression to check if the input is exactly 6 digits
    let isValidInput = /^\d{6}$/.test(input.value.trim()); // Checks for exactly 6 digits

    // The condition is successful if:
    // 1. successMessage is not 'none' (i.e., it is visible),
    // 2. input is exactly 6 digits,
    // 3. errorMessage is 'none' (i.e., it is not visible),
    // 4. verifyCodeButton is 'none' (i.e., it is hidden).
    if (
        successMessage.style.display !== 'none' && 
        isValidInput && 
        errorMessage.style.display === 'none' && 
        verifyCodeButton.style.display === 'none'
    ) {
        continueButton.style.display = 'block';  // Show continue button
        changeClaimsButton.style.display = 'none';  // Hide change claims button
    } else {
        continueButton.style.display = 'none';  // Hide continue button
    }
};

// Observe changes on the successMessage element for its display style
let observer = new MutationObserver(checkConditions);
observer.observe(successMessage, { attributes: true, attributeFilter: ['style'] });

// Observe changes on the input field for its value (this doesn't require a MutationObserver, but it's useful to listen to user input)
input.addEventListener('input', checkConditions);

// Observe changes on the errorMessage element for its display style
let errorObserver = new MutationObserver(checkConditions);
errorObserver.observe(errorMessage, { attributes: true, attributeFilter: ['style'] });

// Observe changes on the verifyCodeButton element for its display style
let verifyCodeObserver = new MutationObserver(checkConditions);
verifyCodeObserver.observe(verifyCodeButton, { attributes: true, attributeFilter: ['style'] });


</script>
</body>
</html>
